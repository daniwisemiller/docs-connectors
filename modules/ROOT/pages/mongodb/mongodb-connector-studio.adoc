= MongoDB Studio Configuration - Mule 4
ifndef::env-site,env-github[]
include::_attributes.adoc[]
endif::[]
:imagesdir: ../../assets/images/

To configure a connector in Anypoint Studio follow this process:
. Install the connector.
. Configure the connector.
. Configure an input source for the connector.

== Install the Connector

. In Anypoint Studio, click the Anypoint Exchange icon in the Studio task bar.
. Click *Login* in Anypoint Exchange and supply your Anypoint Platform username and password.
. Search for the MongoDB connector, click on the connector in Exchange, and click *Add to project*.
. Follow the prompts to install the connector.

== Configure the Connector

. Go to the Global Element tab and click *Create*.
. Search for MongoDB from the Connector Configuration directory.
. When you select the global element of your choice, you are presented with the global element properties to enter.
.. Select the type of Connection.
.. The *Username* field refers to the username you use to access your MongoDB instance.
.. The *Password* field should contain the corresponding password.
.. Specify the *Database* that sends and retrieves data from your MongoDB instance. Before running your application, make sure you have the necessary permissions to do so.
.. You may also need to set the *Servers* property which is composed of a `host:port` comma-separated list (in case you have a replica set). This attribute is optional, and if left empty, it defaults to `localhost:27017`.
.. In the *Connection* tab, you may adjust the values for the *Connect Timeout*, *Connections Per Host*, *Max Wait Time* and the *Socket Timeout* for requests that are sent to MongoDB.  The default value for *Connect Timeout* is 30000 milliseconds. Any connection requests that take longer than 30 seconds to be sent and received  throw an exception. You can override this behavior by setting their values to 0, meaning that the MongoDB connector waits indefinitely until a request is successfully sent and a response is received.
+
.. You may set if the metadata is enabled or not, and add a collection sample.

The MongoDB configuration with Spring property placeholders for the *Connection* field values is the recommended approach when you plan to deploy your application to CloudHub or to a Mule runtime. 

However, you may hard code your connection credentials in the Global Element Properties if you are in the development stage and simply want to speed up the process.

[%header%autowidth.spread]
|===
|Fields|Description
|Servers|This location points to the default MongoDB instance.
|Username|MongoDB username.
|Password|MongoDB password.
|Database|MongoDB database.
|Enable Metadata|Enables metadata for collections, documents and files.
|Collection metadata samples|Allows you to add existing collections to take metadata structure from.
|===

=== Global Configuration with SSL (Optional)

MongoDB Connector v4.0.0 and later supports the use of SSL. To set up the Global Configuration:

* In the Global Element tab for your MongoDB connection, make sure you select `true` SSL property field in the *Connection* tab.
* Remember, your instance must support this feature.

== Configure an Input Source

Configure an input source for this connector such as a connector operation, an HTTP Listener, or Scheduler.

The following operations for this connector can be put in the Source area of the Studio canvas. 

* Deleted Object
* Modified Object
* New Object

These operations invoke your application when MongoDB has a new, deleted, or modified object.

== Next

Now that you have completed configuring Studio, 
see the xref:mongodb/mongodb-connector-examples.adoc[Examples] topic
for more configuration ideas.

== See Also

* https://forums.mulesoft.com[MuleSoft Forum]
* https://support.mulesoft.com/s/knowledge[Knowledge Base Articles]
